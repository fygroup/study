## c++ 面试题

### 概念
```
> 重载 重写
重载：是指允许存在多个同名函数，而这些函数的参数表不同
重写：是指子类重新定义父类虚函数的方法

> const与#define
对前者进行类型安全检查

> 数组与指针
数组在静态存储区或者在栈上被创建
指针随时指向任意类型的内存块
sizeof可知数组长度，但是数组作为函数的参数传递，数组退化为指针

> 引用与指针有什么区别
引用必须被初始化
引用初始化以后不能被改变
不存在指向空值的引用

> const char *
const char* ptr;    // ptr指向的内容不能更改
char* const ptr     // const 指针，不能修改ptr值

> RAII
c++管理资源，避免内存泄漏的一种方式
典型的应用是智能指针，创建对象的时候使用智能指针接管，离开其作用域自动释放资源

> c++ 11 特性
智能指针
lambda
类型推倒auto, decltype
右值引用，移动构造函数
nullptr
for_each
```

### new/delete malloc/free
```
malloc与free是C++/C语言的标准库函数，new/delete是C++的运算符
new/delete 调用构造/析构函数，malloc只管分配内存不管初始化

> new申请的数组能用free释放？
不可以，（1）free 不会调用析构函数，会引起内存泄漏；（2）new分配数组空间时会在头之前多分配了4个字节，如果用free释放会产生段错误

```

### 虚函数
```
当使用类的指针调用成员函数时，普通函数由指针类型决定，而虚函数由指针指向的实际类型决定
一个类只需要一个虚表即可。同一个类的所有对象都使用同一个虚表
通过对象内存中的vptr找到虚函数表vtbl，接着通过vtbl找到对应虚函数的实现区域并进行调用

> 构造函数和析构函数可以是虚函数吗?
不可以，构造函数完成之前，虚函数表还没创建，也就无法通过vptr找到作为虚函数的构造函数

> 析构函数不是虚函数，会带来什么问题？
派生类的析构函数用不上，会造成资源的泄漏

```

### 右值
```
> 左值和右值
左值: 有明确的存放地址的值
右值：没有具体的指代名，即无法通过地址访问，通常在赋值表达式结束后变销毁

> 移动
相比复制构造函数与复制赋值操作符，前者没有再分配内存，而是实现内存所有权转移
STL容器都实现了移动语义，大大优化STL容器

```

### 智能指针
```
```

### STL
```
> 哈希冲突
开放寻址法：线性探测再散列；顺序查看表的下一单元，直至找到某个空单元，或查遍全表
再散列法：建立多个hash函数，若是当发生hash冲突的时候，使用下一个hash函数，直到找到可以存放元素的位置
拉链法：就是在冲突的位置上简历一个链表，然后将冲突的元素插入到链表尾端

> allocator
STL 通过 allocator 分配空间的
allocator调用malloc来分配内存，在给小型区块分配内存时可能会产生内存碎片问题。为了解决这个问题，STL中的allocator采用了双层级配置器
当配置区块超过128 bytes便使用第一级配置器，第一级配置器中内存的申请和释放直接采用malloc和free
当配置区块小于128 bytes时便采用第二级配置器，第二级配置器中内存的申请和释放通过内存池来管理
第二级配置器中的内存池实现细节：维护一个16个自由链表(free-lists),各自管理大小为8,16,24,32,40,48,56,64,72,80,88,…128 bytes的小额区块，每次配置或释放一块内存时，需要维护对应的自由链表


```


```c++
shared_ptr的引用计数是怎么存储的
shared_ptr是线程安全的吗
vecotr<int> a； a中数据在堆上还是栈上
vector的clear()的时间复杂度是多少
在vector变量的有效期内，释放其中元素所占的内存
&，const &， &&的理解
C++11为什么引入nullptr
C++11的thread_local
std::thread使用lambda做回调，有没有什么注意事项？
lambda 如何实现
core dump的原因有哪些，内存泄露的常见原因有哪些，如何排查？
c++ 异常如何实现的，异常使用注意事项
怎么分析代码，找出性能优化点
虚函数相关
虚函数和纯虚函数
左值右值
什么是多态
构造函数和析构函数能不能是虚函数，为什么析构需要虚函数
单例模式、多线程处理单例模式
c语言如何实现 多态、继承、封装
auto变量的使用注意事项（不能定义数组）
vector 和 list 的区别
vector 存放数据的注意
vector 的内部机制
weak_ptr 原理
深拷贝与浅拷贝区别
STL怎么解决哈希冲突
如何避免内存泄漏
strcpy 和 memcpy区别
什么是迭代器失效
new 和 malloc 的区别
静态多态包含什么类型
重载与重写的区别
为什么用extern "C"{}
嵌套类的用处
C++的 sort 函数是怎么实现的
MVC 模式
```

### 网络面试题
```
tcp dup区别
TCP 怎么保证可靠传输
在一个局域网中怎么连接两台电脑
I/O 多路复用
TIME_WAIT
大量TIME_WAIT产生的原因
tcp连接、断开过程
设计一个文件断点续传
TCP 连接过程中客户端与服务端使用什么函数实现连接
TCP 粘包、丢包
```

### linux系统
```
线程、进程、协程
死锁怎么产生的
如何处理死锁、避免死锁
多线程如何同步
进程间的数据共享
锁都有哪些
自旋锁的原理
多线程怎么发送信号
线程怎么退出
内存的分类
一个栈多大
copy on write 
```

### 算法
```
常用的排序算法 （时间 空间复杂度）
图算法
树
双链表和单链表的优缺点
用两个栈实现一个队列
找出数组中次数最多的前 k 个数
大量数据无序输入，怎么有序输出？ （使用最大堆最小堆）
怎么获取二叉树的高度
红黑树好处
动态规划与贪心算法的区别（背包问题分析）
```

### 音视频
```
FFmpeg 中对视频和音频的同步方法
rtmp协议
音视频切换的多线程怎么处理帧切换的问题
视频播放器设计
视频播放器用到 FFmpeg 哪些库
H264 编解码原理
有几种 NAL，如果在视频中存放信息存放在哪个帧
怎么设置压缩码率
边下边播用什么协议
MP4 包含了什么协议
直播用的什么协议
TS 流有什么内容
怎么传递视频信息
怎么解决视频卡顿问题
音视频解码过程的格式
视频播放器开发的过程
YUV 格式与 RGB 格式的区别
AVFrame Parma 的意思
音频3A
```

### 大数据处理
```

```