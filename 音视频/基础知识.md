### 音视频开发
```
音视频开发，就是要掌握图像、音频、视频的基础知识，并且学会如何对它们进行采集、渲染、处理、传输等一系列的开发和应用

具体的技术内容如下
采集：它解决的是，数据从哪里来的问题
渲染：它解决的是，数据怎么展现的问题
处理：它解决的是，数据怎么加工的问题
传输：它解决的是，数据怎么共享的问题
```

### 设备名词
```
IPC（网络摄像机）

DVS（视频编码器）

NVR（Network Video Recorder）又叫网络视频录像机，是一类视频录像设备，与网络摄像机或视频编码器配套使用，实现对通过网络传送过来的数字视频的记录。

DVR的英文全称是（Digital Video Recorder），即数字视频录像机，相对于传统的模拟视频录像机，采用硬盘录像，故常常被称为硬盘录像机

CVR的英文全称是（Central Video Recorder），即中心级视频网络存储设备，它是由标准的IPSAN/NAS网络存储设备，结合视频监控应用发展而来，近年来市场需求日渐强烈。
```

### 视频流
```
经过压缩算法压缩的流数据，称为编码流，又因为目前压缩/编码算法以H264为主，因此也常常称为H264码流

未经压缩的流数据，是解码后的流数据，称为原始流，也常常称为YUV流
```

### HVS
```
// 人类视觉系统HVS特点
对高频信息不敏感
对高对比度更敏感
对亮度信息比色度信息更敏感
对运动的信息更敏感

// 针对HVS的特点，数字视频系统的设计应该考虑哪些因素？
丢弃高频信息，只编码低频信息
提高边缘信息的主观质量
降低色度的解析度
对感兴趣区域（Region of Interesting，ROI）进行特殊处理
```

### RGB YUV
```
// RGB色彩空间
三原色分别是红（R），绿（G），蓝（B）。任何颜色都可以通过按一定比例混合三原色产生
广泛用于BMP，TIFF，PPM等，每个色度成分通常用8bit表示[0,255]

// YUV色彩空间
YUV色彩空间是指，Y：亮度分量，UV：两个色度分量
YUV能更好的反映HVS特点

// RGB转化YUV
YUV与RGB有如下关系 Y = k_r * R + k_g * G + k_b * B
Y    0.2990  0.5870  0.1140   R
U = -0.1687 -0.3313  0.5000 * G + 128
v    0.5000 -0.4187 -0.0813   B + 128

主流的编解码标准的压缩对象都是YUV图像

// YUV图像分量采样
Y表示明亮度，U和V则是色度
YUV图像可以根据HVS的特点，对色度进行分量采样，可以降低视频数据量
根据亮度和色度分量的采样比率，YUV图像通常有以下几种分量方式
YUV 4:4:4采样，每一个Y对应一组UV分量
YUV 4:2:2采样，每两个Y共用一组UV分量 
YUV 4:2:0采样，每四个Y共用一组UV分量 

// 常见的YUV格式
YUV420 NV12 NV21 i420 YV12

```

### 视频编码-帧
```
帧是组成视频的基本单位
帧率是一秒播放的视频中有多少个帧
视频文件本身是由很多连续的帧图片组成，但是一帧数据不一定保存的是一个完成图片

编码器将多张图像进行编码后生产成一段一段的 GOP(Group of Pictures)

解码器在播放时则是读取一段一段的 GOP 进行解码后读取画面再渲染显示

// GOP(Group of Pictures)
GOP是一组连续的画面，由一张 I 帧和数张 B / P 帧组成，是视频图像编码器和解码器存取的基本单位
I 帧是内部编码帧(也称为关键帧)
P 帧是前向预测帧，B帧是双向内插帧
简单地讲，I 帧是一个完整的画面，而 P 帧和 B 帧记录的是相对于 I 帧的变化

I B B P B B P B B I B B P B B P B B I B B P B B P B B 

// I帧
I帧又称帧内编码帧，是一种自带全部信息的独立帧，无需参考其他图像便可独立进行解码，可以简单理解为一张静态画面
视频序列中的第一个帧始终都是I帧，因为它是关键帧

// P帧
P帧需要参考前面的I帧才能进行编码。表示的是当前帧画面与前一帧(前一帧可能是I帧也可能是P帧)的差别
解码时需要用之前缓存的画面叠加上本帧定义的差别，生成最终画面
与I帧相比，P帧通常占用更少的数据位，但不足是，由于P帧对前面的P和I参考帧有着复杂的依耐性，因此对传输错误非常敏感

// B帧
B帧又称双向预测编码帧，也就是B帧记录的是本帧与前后帧的差别
要解码B帧，不仅要取得之前的缓存画面，还要解码之后的画面，通过前后画面的与本帧数据的叠加取得最终的画面
B帧压缩率高，但是对解码性能要求较高

P依赖于I，B依赖于I和P

```

### H.264
```
H.264是一种高性能的视频编解码技术
```

### 采集
```
// 系统的摄像头采集接口是什么
Windows：DirectShow
Linux：V4L2
Android：Camera
iOS：AVCaptureSession

// 系统的摄像头采集的参数怎么配置
比如：分辨率、帧率、预览方向、对焦、闪光灯 等

// 系统的摄像头输出的图像/视频数据，是什么格式
比如：图片：JPEG，视频数据：NV21，NV12，I420 等

// 系统的麦克风采集接口是什么
Windows：DirectShow
Linux：ALSA & OSS
Android：AudioRecord
iOS：Audio Unit

// 系统的麦克风采集参数怎么配置
比如：采样率，通道号，位宽 等

// 系统的麦克风输出的音频数据，是什么格式
比如：PCM
```

### 渲染
```
// 系统提供了哪些 API 可以绘制一张图片或者一帧 YUV 图像数据的
Windows：DirectDraw, Direct3D, GDI，OpenGL 等
Linux： GDI， OpenGL 等
Android：ImageView，SurfaceView，TextureView，OpenGL 等
iOS： CoreGraphics，OpenGL 等

// 系统提供了哪些 API 可以播放一个 mp3 或者 pcm 数据
Windows：DirectSound 等
Linux：ALSA & OSS 等
Android：AudioTrack 等
iOS： AudioQueue 等
```

### jpeg
```
https://www.cnblogs.com/Arvin-JIN/p/9133745.html
```

### NALU
```
NALU为压缩视频数据的基本单位，也是后续视频传输的基本单位
它由一组对应于视频编码数据的 NALU头信息和一个原始字节序列载荷（RBSP）组成
压缩视频比特流由一个个连续排列的NALU组成
```

### H265帧
```

```